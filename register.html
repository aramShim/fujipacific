<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="robots"
      content="max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="fuji pacific 한국 사이트." />
    <!-- iOS 상태바 색상 설정 -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />

    <!-- Android에서 PWA 기능 활성화 -->
    <meta name="theme-color" content="#ffffff" />
    <!-- Google Chrome에서 자동 전화번호 링크 방지 -->
    <meta name="format-detection" content="telephone=no" />
    <!-- PWA (Progressive Web App) 관련 설정 -->
    <meta name="mobile-web-app-capable" content="yes" />

    <title>Fujipacific</title>

    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- CSS HS -->
    <link rel="stylesheet" href="/dist/output.css" />
    <link rel="stylesheet" href="src/css/input.css" />
    <link rel="stylesheet" href="src/css/pretendard.css" />
  </head>
  <body class="h-full bg-white">
    <div class="flex min-h-screen flex-col justify-center px-6 py-12 lg:px-8">
      <div class="sm:mx-auto sm:w-full sm:max-w-sm">
        <img
          class="mx-auto h-16 w-auto"
          src="/src/images/logo.svg"
          alt="FUJIPACIFIC"
        />
      </div>
      <div class="mt-4 sm:mx-auto sm:w-full sm:max-w-sm">
        <form name="frm" id="frm" class="space-y-6" method="post" action="">
          <div>
            <label
              for="email"
              class="block text-sm/6 font-medium text-gray-900"
            >
              ID
            </label>
            <div class="mt-2">
              <input
                type="text"
                id="id"
                name="id"
                minlength
                mexlength
                required
                class="outline block w-full rounded-lg bg-white px-3 py-3 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 sm:text-sm/6"
                placeholder="아이디"
              />
            </div>
          </div>

          <div>
            <div class="flex items-center justify-between">
              <label
                for="password"
                class="block text-sm/6 font-medium text-gray-900"
              >
                Password
              </label>
            </div>
            <div class="mt-2">
              <!-- Form Group -->
              <div class="max-w-sm">
                <div class="relative">
                  <input
                    id="hs-toggle-password"
                    type="password"
                    class="outline block w-full rounded-lg bg-white px-3 py-3 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 sm:text-sm/6"
                    placeholder="비밀번호"
                    value=""
                    required
                  />
                  <button
                    type="button"
                    data-hs-toggle-password='{
                                    "target": "#hs-toggle-password"
                                }'
                    class="absolute inset-y-0 end-0 flex items-center z-20 px-3 cursor-pointer text-gray-400 rounded-e-md focus:outline-hidden focus:text-blue-600 dark:text-neutral-600 dark:focus:text-blue-500"
                  >
                    <svg
                      class="shrink-0 size-4"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        class="hs-password-active:hidden"
                        d="M9.88 9.88a3 3 0 1 0 4.24 4.24"
                      ></path>
                      <path
                        class="hs-password-active:hidden"
                        d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"
                      ></path>
                      <path
                        class="hs-password-active:hidden"
                        d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"
                      ></path>
                      <line
                        class="hs-password-active:hidden"
                        x1="2"
                        x2="22"
                        y1="2"
                        y2="22"
                      ></line>
                      <path
                        class="hidden hs-password-active:block"
                        d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"
                      ></path>
                      <circle
                        class="hidden hs-password-active:block"
                        cx="12"
                        cy="12"
                        r="3"
                      ></circle>
                    </svg>
                  </button>
                </div>
              </div>
              <!-- End Form Group -->
              <div class="relative mt-2">
                <input
                  id="hs-toggle-password1"
                  type="password"
                  class="outline block w-full rounded-lg bg-white px-3 py-3 text-base text-gray-700 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 sm:text-sm/6"
                  placeholder="비밀번호 확인"
                  value=""
                  required
                />
                <div class="flex items-center absolute inset-y-0 end-0 z-20">
                  <button
                    type="button"
                    data-hs-toggle-password='{
                                    "target": "#hs-toggle-password1"
                                }'
                    class="flex items-center px-3 cursor-pointer text-gray-400 rounded-e-md focus:outline-hidden focus:text-blue-600 dark:text-neutral-600 dark:focus:text-blue-500"
                  >
                    <svg
                      class="shrink-0 size-4"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        class="hs-password-active:hidden"
                        d="M9.88 9.88a3 3 0 1 0 4.24 4.24"
                      ></path>
                      <path
                        class="hs-password-active:hidden"
                        d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"
                      ></path>
                      <path
                        class="hs-password-active:hidden"
                        d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"
                      ></path>
                      <line
                        class="hs-password-active:hidden"
                        x1="2"
                        x2="22"
                        y1="2"
                        y2="22"
                      ></line>
                      <path
                        class="hidden hs-password-active:block"
                        d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"
                      ></path>
                      <circle
                        class="hidden hs-password-active:block"
                        cx="12"
                        cy="12"
                        r="3"
                      ></circle>
                    </svg>
                  </button>
                  <svg
                    class="error-icon hidden shrink-0 size-4 text-red-500 mr-3"
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" x2="12" y1="8" y2="12"></line>
                    <line x1="12" x2="12.01" y1="16" y2="16"></line>
                  </svg>
                </div>
              </div>
              <p
                class="hidden error-message text-sm text-red-600 mt-2"
                id="hs-validation-name-error-helper"
              >
                비밀번호를 확인해주세요.
              </p>
            </div>
          </div>
        </form>

        <div class="mt-2">
          <button
            type="submit"
            class="flex w-full justify-center rounded-lg bg-blue-600 px-3 py-3 text-sm/6 font-semibold text-white shadow-xs hover:bg-blue-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600"
            id="registerBtn"
          >
            회원가입
          </button>
        </div>
      </div>
    </div>

    <!-- JS PLUGINS -->
    <script
      src="https://cdn.jsdelivr.net/npm/preline@latest/dist/preline.min.js"
      crossorigin="anonymous"
      defer
    ></script>

    <script>
      window.addEventListener("load", () => {
        lucide.createIcons();
        window.HSStaticMethods.autoInit();
      });
    </script>
    <script>
      // 비밀번호 확인 검증 함수
      function validatePassword() {
        const password = document.getElementById("hs-toggle-password").value;
        const confirmPassword = document.getElementById(
          "hs-toggle-password1",
        ).value;
        const confirmInput = document.getElementById("hs-toggle-password1");
        const errorIcon = document.querySelector(".error-icon");
        const errorMessage = document.querySelector(".error-message");

        // 비밀번호가 입력되었고, 확인 비밀번호도 입력되었을 때만 검증
        if (password && confirmPassword) {
          if (password !== confirmPassword) {
            // 비밀번호가 다를 때
            confirmInput.classList.remove(
              "outline-gray-300",
              "text-gray-900",
              "placeholder:text-gray-400",
            );
            confirmInput.classList.add(
              "outline-red-300",
              "text-red-700",
              "placeholder:text-red-400",
            );
            errorIcon.classList.remove("hidden");
            errorMessage.classList.remove("hidden");
          } else {
            // 비밀번호가 일치할 때
            confirmInput.classList.remove(
              "outline-red-300",
              "text-red-700",
              "placeholder:text-red-400",
            );
            confirmInput.classList.add(
              "outline-gray-300",
              "text-gray-900",
              "placeholder:text-gray-400",
            );
            errorIcon.classList.add("hidden");
            errorMessage.classList.add("hidden");
          }
        } else if (confirmPassword === "") {
          // 확인 비밀번호가 비어있을 때는 초기 상태로 복원
          confirmInput.classList.remove(
            "outline-red-300",
            "text-red-700",
            "placeholder:text-red-400",
          );
          confirmInput.classList.add(
            "outline-gray-300",
            "text-gray-900",
            "placeholder:text-gray-400",
          );
          errorIcon.classList.add("hidden");
          errorMessage.classList.add("hidden");
        }
      }

      // 이벤트 리스너 등록
      document.addEventListener("DOMContentLoaded", function () {
        const confirmPasswordInput = document.getElementById(
          "hs-toggle-password1",
        );

        // 비밀번호 확인 입력 필드에서 포커스가 벗어날 때 검증
        confirmPasswordInput.addEventListener("blur", validatePassword);

        // 원본 비밀번호가 변경될 때도 다시 검증
        document
          .getElementById("hs-toggle-password")
          .addEventListener("input", function () {
            // 확인 비밀번호가 입력되어 있을 때만 검증
            if (confirmPasswordInput.value) {
              validatePassword();
            }
          });
      });
    </script>
  </body>
</html>
