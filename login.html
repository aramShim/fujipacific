<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1,minimum-scale=1, shrink-to-fit=no, user-scalable=no" />
    <meta name="description" content="fuji pacific 한국 사이트." />

    <!-- iOS 상태바 색상 설정 -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <!-- Android에서 PWA 기능 활성화 -->
    <meta name="theme-color" content="#ffffff" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="mobile-web-app-capable" content="yes" />

    <!--favicon-->
    <link rel="apple-touch-icon" sizes="180x180" href="/src/images/favicon_1/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/src/images/favicon_1/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/src/images/favicon_1/favicon-16x16.png">
    <link rel="manifest" href="/src/images/favicon_1/site.webmanifest">

    <title>Fujipacific</title>

    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- CSS HS -->
    <link rel="stylesheet" href="/dist/output.css" />
    <link rel="stylesheet" href="src/css/input.css" />
    <link rel="stylesheet" href="src/css/pretendard.css" />
  </head>
  <body class="h-full bg-white">
    <div class="flex min-h-screen flex-col justify-center px-6 py-12 lg:px-8">
      <div class="sm:mx-auto sm:w-full sm:max-w-sm">
        <img class="mx-auto h-16 w-auto" src="/src/images/logo.svg" alt="FUJIPACIFIC"/>
      </div>
      <div class="mt-4 sm:mx-auto sm:w-full sm:max-w-sm">
        <form name="frm" id="frm" class="space-y-6" method="post" action="">
          <input type="hidden" name="mode" value="login" />
          <div>
            <label for="id" class="block text-sm/6 font-medium text-gray-900" >
              ID
            </label>
            <div class="mt-2">
              <input  type="text" id="id" name="id" required class="outline block w-full rounded-lg bg-white px-3 py-3 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 sm:text-sm/6" />
            </div>
          </div>

          <div>
            <div class="flex items-center justify-between">
              <label for="password" class="block text-sm/6 font-medium text-gray-900">
                Password
              </label>
              <div class="text-sm">
                <button type="button" class="font-semibold text-blue-600 hover:text-blue-500" aria-haspopup="dialog"
                  aria-expanded="false" aria-controls="hs-scale-animation-modal" data-hs-overlay="#hs-scale-animation-modal">
                  비밀번호를 잊으셨나요?
                </button>
              </div>
            </div>
            <div class="mt-2">
              <div class="relative mt-2">
                <input id="password" type="password" name="password" class="outline block w-full rounded-lg bg-white px-3 py-3 text-base text-gray-700 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 sm:text-sm/6" placeholder="비밀번호" value="" required current-password/>
                <div class="flex items-center absolute inset-y-0 end-0 z-20">
                  <button
                    type="button"
                    data-hs-toggle-password='{"target": "#password"}'
                    class="flex items-center px-3 cursor-pointer text-gray-400 rounded-e-md focus:outline-hidden focus:text-blue-600 dark:text-neutral-600 dark:focus:text-blue-500"
                  >
                    <i data-lucide="eye" class="hidden hs-password-active:block shrink-0 size-4"></i>
                    <i data-lucide="eye-off" class="hs-password-active:hidden shrink-0 size-4"></i>
                  </button>
                  
                </div>
              </div>
            </div>
          </div>

          <div>
            <div class="flex items-center gap-x-2">
              <input id="id-save" type="checkbox" class="border border-gray-300 rounded text-blue-600 hover:border-gray-500 focus:ring-blue-500 dark:bg-neutral-800 dark:border-neutral-600 dark:checked:bg-blue-500 dark:checked:border-blue-500 dark:focus:ring-offset-gray-800"/>
              <label for="id-save" class="text-sm">아이디 저장</label>
            </div>
          </div>

          <div>
            <button type="submit" class="flex w-full justify-center rounded-lg bg-blue-600 px-3 py-3 text-sm/6 font-semibold text-white shadow-xs hover:bg-blue-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600" id="loginBtn">
              로그인
            </button>
          </div>
        </form>

        
      </div>
    </div>

    <div
      id="hs-scale-animation-modal"
      class="hs-overlay hidden size-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"
      role="dialog"
      tabindex="-1"
      aria-labelledby="hs-scale-animation-modal-label"
    >
      <div class="hs-overlay-animation-target hs-overlay-open:scale-100 hs-overlay-open:opacity-100 scale-95 opacity-0 ease-in-out transition-all duration-200 sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center">
        <div class="w-full flex flex-col bg-white border shadow-sm rounded-xl pointer-events-auto dark:bg-neutral-800 dark:border-neutral-700 dark:shadow-neutral-700/70">
          <div class="flex justify-between items-center py-3 px-4 border-b dark:border-neutral-700">
            <h3 class="font-bold text-gray-800 dark:text-white">
              비밀번호 안내
            </h3>
            <button
              type="button"
              class="size-8 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent bg-gray-100 text-gray-800 hover:bg-gray-200 focus:outline-none focus:bg-gray-200 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-700 dark:hover:bg-neutral-600 dark:text-neutral-400 dark:focus:bg-neutral-600"
              aria-label="Close"
              data-hs-overlay="#hs-scale-animation-modal"
            >
              <span class="sr-only">Close</span>
              <i data-lucide="X" class="shrink-0 size-4"></i>
            </button>
          </div>
          <div class="p-4 overflow-y-auto">
            <div class="flex flex-col max-h-[50vh]">
              <p class="text-sm">
                FUJIPACIFIC에 가입된 이메일로 인증메일을 발송합니다.
              </p>
            </div>
          </div>
          <div class="flex justify-end items-center gap-x-2 py-3 px-4 dark:border-neutral-700" id="modal-footer">
            <button
              type="button"
              class="py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-white dark:hover:bg-neutral-700 dark:focus:bg-neutral-700"
              data-hs-overlay="#hs-scale-animation-modal"
              aria-expanded="true"
            >
              취소
            </button>
            <button type="button" class="py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none" onclick="">
              확인
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- JS PLUGINS -->
    <script
      src="https://cdn.jsdelivr.net/npm/preline@latest/dist/preline.min.js"
      crossorigin="anonymous"
      defer
    ></script>

    <script>
      window.addEventListener("load", () => {
        lucide.createIcons();
        window.HSStaticMethods.autoInit();
      });
    </script>
    <script>
      const frm = document.getElementById("frm");
      const frmBtn = document.getElementById("loginBtn");
      frm.addEventListener("keypress", function (e) {
        if (e.keyCode === 13) {
          frmBtn.focus();
          frm.submit();
        }
      });

      function setCookie(cookieName, value, exdays) {
        var exdate = new Date();
        exdate.setDate(exdate.getDate() + exdays);
        var cookieValue =
          escape(value) +
          (exdays == null ? "" : "; expires=" + exdate.toGMTString());
        document.cookie = cookieName + "=" + cookieValue;
      }

      function deleteCookie(cookieName) {
        var expireDate = new Date();
        expireDate.setDate(expireDate.getDate() - 1);
        document.cookie =
          cookieName + "= " + "; expires=" + expireDate.toGMTString();
      }

      function getCookie(cookieName) {
        cookieName = cookieName + "=";
        var cookieData = document.cookie;
        var start = cookieData.indexOf(cookieName);
        var cookieValue = "";
        if (start != -1) {
          start += cookieName.length;
          var end = cookieData.indexOf(";", start);
          if (end == -1) end = cookieData.length;
          cookieValue = cookieData.substring(start, end);
        }
        return unescape(cookieValue);
      }
      window.onload = function () {
        // 저장된 쿠키값을 가져와서 ID 칸에 넣어준다. 쿠키값 없으면 공백.
        let userLoginId = getCookie("userLoginId");

        if (userLoginId) {
          document.getElementById("id").value = userLoginId;
          document.getElementById("password").focus();
        } else {
          document.getElementById("id").focus();
        }

        // ID가 있는경우 아이디 저장 체크박스 체크
        if (document.getElementById("id").value != "") {
          document.getElementById("id-save").checked = true;
        }

        // 아이디 저장하기 체크박스 onchange
        var checkId = document.getElementById("id-save");

        checkId.onchange = function (event) {
          if (checkId.checked) {
            //checked true
            var userLoginId = document.getElementById("id").value;
            setCookie("userLoginId", userLoginId, 30); // 30일 동안 쿠키 보관
          } else {
            //checked false
            deleteCookie("userLoginId");
          }
        };

        // 아이디 저장하기가  눌린상태에서, ID를 입력한 경우
        var idInput = document.getElementById("id");

        idInput.addEventListener("keypress", function (e) {
          console.log(document.getElementById("id").value);
          if (checkId.checked) {
            //checked true

            var userLoginId = document.getElementById("id").value;
            setCookie("userLoginId", userLoginId, 30); // 30일 동안 쿠키 보관
          }
        });
      };
    </script>
  </body>
</html>
